function avoirLaMeteo(e){fetch(e).then(e=>e.json()).then(e=>{document.getElementById("corp").style="display: block",document.getElementById("recherche").style="display: none",favoris();let t=e,n=t.city.name,r=t.city.country,i=t.city.id;console.log(`ville vis\xe9e: ${n}`),console.log(e);let s=Math.round(t.list[0].main.temp),m=new Date,l=[m.getHours(),m.getMinutes()];l.splice(1,0,"h"),l[2]<10&&l.splice(2,0,0),l[0]<10&&l.splice(0,0,0);let d=Math.round(t.list[0].main.feels_like),o=Math.round(3.6*t.list[0].wind.speed),u=[],a=[],g=[],p=[];for(let y=1;y<=4;y++)u.push(Math.round(t.list[y].main.temp)),a.push(t.list[y].main.feels_like),g.push(Math.round(3.6*t.list[y].wind.speed)),p.push(k(t.list[y]));let c=[],B=[],E=[],I=[],h=["09","15"];for(let x=0;x<t.list.length;x++){let J=new Date(t.list[x].dt_txt).getDate(),T=t.list[x].dt_txt.slice(11,13);J!==m.getDate()&&h.includes(T)&&(c.push(Math.round(t.list[x].main.temp)),B.push(Math.round(t.list[x].main.feels_like)),E.push(Math.round(3.6*t.list[x].wind.speed)),I.push(k(t.list[x])))}document.getElementById("ville").innerText=n,document.getElementById("country").innerText=r,document.getElementById("id").innerText=i,document.getElementById("heureMaintenant").innerText=l.join(""),document.getElementById("temp\xe9ratureMaintenant").textContent=`${s}\xb0`,document.getElementById("temp\xe9ratureMaintenantRessenti").innerText=`${d}\xb0`,document.getElementById("ventMaintenant").innerText=`${o} km/h`;let $=k(t.list[0]);document.getElementById("meteoMaintenant").src=`assets/img/${$}.png`,document.getElementById("meteo3h").src=`assets/img/${p[0]}.png`,document.getElementById("temp\xe9rature3h").innerText=`${u[0]}\xb0`,document.getElementById("vent3h").innerText=`${g[0]}km/h`,document.getElementById("meteo6h").src=`assets/img/${p[1]}.png`,document.getElementById("temp\xe9rature6h").innerText=`${u[1]}\xb0`,document.getElementById("vent6h").innerText=`${g[1]}km/h`,document.getElementById("meteo9h").src=`assets/img/${p[2]}.png`,document.getElementById("temp\xe9rature9h").innerText=`${u[2]}\xb0`,document.getElementById("vent9h").innerText=`${g[2]}km/h`,document.getElementById("meteo12h").src=`assets/img/${p[3]}.png`,document.getElementById("temp\xe9rature12h").innerText=`${u[3]}\xb0`,document.getElementById("vent12h").innerText=`${g[3]}km/h`;let v=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],M=m.getDay();document.getElementById("jourSuivant").innerHTML="";for(let _=1;_<=4;_++){let A=v[(M+_)%7];document.getElementById("jourSuivant").innerHTML+=`
        <p id="jour" class="h3 ms-2 text-lg-center">${A}</p>
        <div class="container text-center mt-0 mb-5 rounded-4">
        <div class="row mt-2">
            <div class="col">
                <img src="assets/img/01.png" alt="m\xe9t\xe9o jour +${_}M" class="iconeMeteoSemaine" id="meteoJour+${_}M">
                <img src="assets/img/01.png" alt="m\xe9t\xe9o jour +${_}A" class="iconeMeteoSemaine" id="meteoJour+${_}A">
            </div>
            <div class="col mt-3 h3">
                <p><i class="bi bi-thermometer-half" id="temp\xe9ratureJour+${_}M"></i>/<i class="bi bi-thermometer-half" id="temp\xe9ratureJour+${_}A"></i></p>
            </div>
        </div>
        <div class="row">
            <div class="col h5">
                <p><i class="bi bi-wind" id="ventJour+${_}M">Vitesse vent</i>/<i id="ventJour+${_}A">Vitesse vent</i></p>
            </div>
            <div class="col h3">
                <p><i class="bi bi-emoji-sunglasses" id="temp\xe9ratureJour+${_}RessentiM"></i>/<i class="bi bi-emoji-sunglasses" id="temp\xe9ratureJour+${_}RessentiA"></i></p>
            </div>
        </div>
    </div>`}function k(e){let t=e.weather[0].main,n=e.clouds.all,r=e.weather[0].id;return"Clear"==t?"01":"Clouds"==t&&n<50?"02":"Clouds"==t&&n>=50?"03":"Rain"==t&&r<=500?"04":"Rain"==t&&r>500?"05":void 0}document.getElementById("meteoJour+1M").src=`assets/img/${I[0]}.png`,document.getElementById("meteoJour+1A").src=`assets/img/${I[1]}.png`,document.getElementById("temp\xe9ratureJour+1M").innerText=`${c[0]}\xb0`,document.getElementById("temp\xe9ratureJour+1A").innerText=`${c[1]}\xb0`,document.getElementById("temp\xe9ratureJour+1RessentiM").innerText=`${B[0]}\xb0`,document.getElementById("temp\xe9ratureJour+1RessentiA").innerText=`${B[1]}\xb0`,document.getElementById("ventJour+1M").innerText=`${E[0]}`,document.getElementById("ventJour+1A").innerText=`${E[1]} km/h`,document.getElementById("meteoJour+2M").src=`assets/img/${I[2]}.png`,document.getElementById("meteoJour+2A").src=`assets/img/${I[3]}.png`,document.getElementById("temp\xe9ratureJour+2M").innerText=`${c[2]}\xb0`,document.getElementById("temp\xe9ratureJour+2A").innerText=`${c[3]}\xb0`,document.getElementById("temp\xe9ratureJour+2RessentiM").innerText=`${B[2]}\xb0`,document.getElementById("temp\xe9ratureJour+2RessentiA").innerText=`${B[3]}\xb0`,document.getElementById("ventJour+2M").innerText=`${E[2]}`,document.getElementById("ventJour+2A").innerText=`${E[3]} km/h`,document.getElementById("meteoJour+3M").src=`assets/img/${I[4]}.png`,document.getElementById("meteoJour+3A").src=`assets/img/${I[5]}.png`,document.getElementById("temp\xe9ratureJour+3M").innerText=`${c[4]}\xb0`,document.getElementById("temp\xe9ratureJour+3A").innerText=`${c[5]}\xb0`,document.getElementById("temp\xe9ratureJour+3RessentiM").innerText=`${B[4]}\xb0`,document.getElementById("temp\xe9ratureJour+3RessentiA").innerText=`${B[5]}\xb0`,document.getElementById("ventJour+3M").innerText=`${E[4]}`,document.getElementById("ventJour+3A").innerText=`${E[5]} km/h`,document.getElementById("meteoJour+4M").src=`assets/img/${I[6]}.png`,document.getElementById("meteoJour+4A").src=`assets/img/${I[7]}.png`,document.getElementById("temp\xe9ratureJour+4M").innerText=`${c[6]}\xb0`,document.getElementById("temp\xe9ratureJour+4A").innerText=`${c[7]}\xb0`,document.getElementById("temp\xe9ratureJour+4RessentiM").innerText=`${B[6]}\xb0`,document.getElementById("temp\xe9ratureJour+4RessentiA").innerText=`${B[7]}\xb0`,document.getElementById("ventJour+4M").innerText=`${E[6]}`,document.getElementById("ventJour+4A").innerText=`${E[7]} km/h`,updateEtoile()})}