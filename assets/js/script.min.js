let city="",zip="",country="",apiKey="142fa27ef3629e56358aebb03acba4f1",langue="fr",unite="metric",url=`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}&lang=${langue}&units=${unite}`,cityAllFav=[];function geolocation(){!0==confirm("Voulez-vous activer la geolocalition ? (Activer position si oui)")?navigator.geolocation.getCurrentPosition(e=>{fetch(urlCity=`http://api.openweathermap.org/geo/1.0/reverse?lat=${latitude=e.coords.latitude}&lon=${longitude=e.coords.longitude}&limit=5&appid=${apiKey}`).then(e=>e.json()).then(e=>{city=e[0].name,state=e[0].state,country=e[0].country,console.log(`ville: ${city}, d\xe9partement: ${state} et pays: ${country}`),console.log(e),avoirLaMeteo(url=`http://api.openweathermap.org/data/2.5/forecast?q=${city},${state},${country}&appid=${apiKey}&lang=${langue}&units=${unite}`)})}):(url=`https://api.openweathermap.org/data/2.5/forecast?id=${id="2988507"}&appid=${apiKey}&lang=${langue}&units=${unite}`,console.log("ville par d\xe9fault activ\xe9"),avoirLaMeteo(url))}function lieux(){fetch(url=`http://api.openweathermap.org/geo/1.0/direct?q=${city=document.getElementById("lieuxChoisie").value}&limit=5&appid=${apiKey}&lang=${langue}&units=${unite}`).then(e=>e.json()).then(e=>{console.log(e),document.getElementById("ajoutRecherche").innerHTML="";for(let t=0;t<5;t++)document.getElementById("ajoutRecherche").innerHTML+=`
                        <a onclick="avoirLaMeteo('https://api.openweathermap.org/data/2.5/forecast?q=${e[t].name},${e[t].country}&appid=${apiKey}&lang=${langue}&units=${unite}')" id="result${t}" style="display: block">
                            <div class="container text-center rounded-4 my-5">
                                <div class="row">
                                    <div class="col-6">
                                        <p class="h3 my-4 ms-3" id="recherche${t}">city</p>
                                    </div>
                                    <div class="col-6">
                                        <p class="h3 my-4" id="recherchePays${t}">Pays</p>
                                    </div>
                                </div>
                            </div>
                        </a > `,document.getElementById(`recherche${t}`).textContent=e[t].name,document.getElementById(`recherchePays${t}`).textContent=e[t].country,essaieHTML(`https://api.openweathermap.org/data/2.5/forecast?q=${e[t].name},${e[t].country}&appid=${apiKey}&lang=${langue}&units=${unite}`,t);for(let a=0;a<5;a++)for(let n=a+1;n<5;n++)document.getElementById(`recherchePays${a}`).textContent==document.getElementById(`recherchePays${n}`).textContent&&(document.getElementById(`result${a}`).style="display: none");document.getElementById("corp").style="display: none",document.getElementById("recherche").style="display: block"})}geolocation();